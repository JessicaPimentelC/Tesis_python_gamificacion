{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jesica\\\\Documents\\\\TESIS\\\\TESIS\\\\Tesis_python_gamificacion\\\\Python_gamificacion\\\\front-react\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from 'react';\nimport '../styles/Login.css';\nimport axios from \"axios\";\nimport { GoogleOAuthProvider, GoogleLogin } from '@react-oauth/google';\n///import Loginsesion from './Loginsesion'; \n\nconst Login = ({\n  toggleView\n}) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState('');\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post(\"http://localhost:8000/myapp/login/\", {\n        email,\n        password\n      });\n      alert(response.data.message);\n      toggleView('dashboard');\n    } catch (error) {\n      console.error(error);\n      if (error.response && error.response.data) {\n        alert(error.response.data.error || \"Credenciales incorrectas\");\n      } else {\n        alert(\"Credenciales incorrectas\");\n      }\n    }\n  };\n  const handleGoogleLoginSuccess = async response => {\n    try {\n      const res = await axios.post(\"http://localhost:8000/myapp/accounts/google/login/token/\", {\n        token: response.credential\n      });\n      alert(res.data.message);\n    } catch (error) {\n      console.error(error);\n      alert(\"Error al iniciar sesión con Google.\");\n    }\n  };\n  const handleGoogleLoginFailure = error => {\n    console.error(error);\n    alert(\"Error al autenticar con Google.\");\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/tesis.png\",\n    alt: \"Logo\",\n    className: \"login-logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, \"Ingresa tus datos\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"login-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 19\n    }\n  }, error), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Usuario o Correo\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Contrase\\xF1a\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"INGRESAR\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(GoogleOAuthProvider, {\n    clientId: \"567858506235-sd9fvbkheo3rnggdfpmnfjp63t6rgej3.apps.googleusercontent.com\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(GoogleLogin, {\n    onSuccess: handleGoogleLoginSuccess,\n    onFailure: handleGoogleLoginFailure,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"toggle-button\",\n    onClick: () => toggleView('register'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, \"REGISTRARME\"));\n};\nexport default Login;","map":{"version":3,"names":["React","useState","axios","GoogleOAuthProvider","GoogleLogin","Login","toggleView","email","setEmail","password","setPassword","error","setError","handleSubmit","e","preventDefault","response","post","alert","data","message","console","handleGoogleLoginSuccess","res","token","credential","handleGoogleLoginFailure","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onSubmit","type","placeholder","value","onChange","target","required","clientId","onSuccess","onFailure","onClick"],"sources":["C:/Users/jesica/Documents/TESIS/TESIS/Tesis_python_gamificacion/Python_gamificacion/front-react/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport '../styles/Login.css';\r\nimport axios from \"axios\";\r\nimport { GoogleOAuthProvider, GoogleLogin } from '@react-oauth/google';\r\n///import Loginsesion from './Loginsesion'; \r\n\r\nconst Login = ({ toggleView }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    try {\r\n      const response = await axios.post(\r\n        \"http://localhost:8000/myapp/login/\",\r\n        { email, password }\r\n      );\r\n\r\n      alert(response.data.message);\r\n      toggleView('dashboard'); \r\n    }catch (error) {\r\n        console.error(error);\r\n        if (error.response && error.response.data) {\r\n          alert(error.response.data.error || \"Credenciales incorrectas\");\r\n        } else {\r\n          alert(\"Credenciales incorrectas\");\r\n        }\r\n      }\r\n  };\r\n  const handleGoogleLoginSuccess = async (response) => {\r\n    try {\r\n      const res = await axios.post(\r\n        \"http://localhost:8000/myapp/accounts/google/login/token/\",\r\n        { token: response.credential }\r\n      );\r\n\r\n      alert(res.data.message);\r\n      } \r\n      catch (error) {\r\n      console.error(error);\r\n      alert(\"Error al iniciar sesión con Google.\");\r\n    }\r\n  };\r\n  const handleGoogleLoginFailure = (error) => {\r\n    console.error(error);\r\n    alert(\"Error al autenticar con Google.\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <img src=\"/tesis.png\" alt=\"Logo\" className=\"login-logo\" />\r\n      <h2>Ingresa tus datos</h2>\r\n      <form onSubmit={handleSubmit} className=\"login-form\">\r\n        {error && <div className=\"error-message\">{error}</div>}\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Usuario o Correo\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Contraseña\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <button type=\"submit\">INGRESAR</button>\r\n      </form>\r\n      <br></br>\r\n      <GoogleOAuthProvider clientId=\"567858506235-sd9fvbkheo3rnggdfpmnfjp63t6rgej3.apps.googleusercontent.com\">\r\n        <main>\r\n          <div>\r\n            <GoogleLogin\r\n              onSuccess={handleGoogleLoginSuccess}\r\n              onFailure={handleGoogleLoginFailure}\r\n            />\r\n          </div>\r\n        </main>\r\n      </GoogleOAuthProvider>\r\n      <button type=\"button\" className=\"toggle-button\" onClick={() => toggleView('register')}>\r\n        REGISTRARME\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}